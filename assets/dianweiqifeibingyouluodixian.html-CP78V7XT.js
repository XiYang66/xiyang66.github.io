import{_ as l,c as o,b as s,d as a,e,a as t,o as i,r as c}from"./app-BJ3_yarB.js";const u={},r={href:"http://cesium.xin/cesium/cn/Documentation1.95/Viewer.html?classFilter=viewer",target:"_blank",rel:"noopener noreferrer"},k={href:"http://cesium.xin/cesium/cn/Documentation1.95/EntityCollection.html",target:"_blank",rel:"noopener noreferrer"},d={href:"http://cesium.xin/cesium/cn/Documentation1.95/Cartesian3.html",target:"_blank",rel:"noopener noreferrer"};function m(v,n){const p=c("ExternalLinkIcon");return i(),o("div",null,[n[7]||(n[7]=s("h2",{id:"基础知识",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#基础知识"},[s("span",null,"基础知识")])],-1)),n[8]||(n[8]=s("p",null,[s("code",null,"Viewer"),a("他就是我们初始化地图的时候用到一个API，他也就是梦开始的地方，地图初始我们在之前的操作中把他的状态进行啦提升放在啦data函数中.")],-1)),s("blockquote",null,[s("p",null,[s("a",r,[n[0]||(n[0]=a("官网描述")),e(p)]),n[1]||(n[1]=a("：用于构建应用程序的基本小部件。它将所有标准的 Cesium 小部件组合到一个可重用的包中。小部件总是可以通过使用 mixins 来扩展，它添加了对各种应用程序有用的功能。"))])]),n[9]||(n[9]=t(`<p>也就是这个样子<br></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">   <span class="token keyword">this</span><span class="token punctuation">.</span>viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">&#39;DOM元素或者盒子的ID&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&#39;配置小部件&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="点位起飞" tabindex="-1"><a class="header-anchor" href="#点位起飞"><span>点位起飞</span></a></h2>`,3)),s("p",null,[n[4]||(n[4]=a("API:")),s("a",k,[n[2]||(n[2]=a("viewer")),e(p)]),n[5]||(n[5]=a("和")),s("a",d,[n[3]||(n[3]=a("Cartesian3")),e(p)]),n[6]||(n[6]=s("br",null,null,-1))]),n[10]||(n[10]=t(`<p>在添加点位的时候<code>this.viewer.entities.add</code>方法中设置他<code>position</code>改为<code>Cesium.Cartesian3.fromDegrees(pointObj.longitude * 1, pointObj.latitude * 1,100)</code></p><p>100椭圆体上方的高度，以米为单位</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">  <span class="token comment">// cesium 加载点位</span></span>
<span class="line"><span class="token function">addMarker</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> Cesium <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cesium</span>
<span class="line">  <span class="token comment">// 清除上一次加载的点位</span></span>
<span class="line">  <span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token comment">// foreach循环加载点位</span></span>
<span class="line">  <span class="token keyword">this</span><span class="token punctuation">.</span>pointInfo<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pointObj</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">name</span><span class="token operator">:</span> pointObj<span class="token punctuation">.</span>psName<span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">code</span><span class="token operator">:</span> pointObj<span class="token punctuation">.</span>id<span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">id</span><span class="token operator">:</span> pointObj<span class="token punctuation">.</span>id<span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">position</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span>pointObj<span class="token punctuation">.</span>longitude <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">,</span> pointObj<span class="token punctuation">.</span>latitude <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token comment">// 点</span></span>
<span class="line">      <span class="token comment">// point: {</span></span>
<span class="line">      <span class="token comment">//   pixelSize: 5,</span></span>
<span class="line">      <span class="token comment">//   color: Cesium.Color.RED,</span></span>
<span class="line">      <span class="token comment">//   outlineColor: Cesium.Color.WHITE,</span></span>
<span class="line">      <span class="token comment">//   outlineWidth: 2,</span></span>
<span class="line">      <span class="token comment">// },</span></span>
<span class="line">      <span class="token comment">// 文字标签</span></span>
<span class="line">      <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// show: false,</span></span>
<span class="line">        <span class="token literal-property property">text</span><span class="token operator">:</span> pointObj<span class="token punctuation">.</span>psName<span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">font</span><span class="token operator">:</span> <span class="token string">&#39;12px monospace&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">style</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>LabelStyle<span class="token punctuation">.</span><span class="token constant">FILL_AND_OUTLINE</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">fillColor</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token function">fromCssColorString</span><span class="token punctuation">(</span><span class="token string">&#39;rgb(11, 255, 244)&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">outlineWidth</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">verticalOrigin</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>VerticalOrigin<span class="token punctuation">.</span><span class="token constant">BOTTOM</span><span class="token punctuation">,</span> <span class="token comment">// 垂直方向以底部来计算标签的位置</span></span>
<span class="line">        <span class="token literal-property property">pixelOffset</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian2</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 偏移量</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token comment">// 图标</span></span>
<span class="line">      <span class="token literal-property property">billboard</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">image</span><span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@/assets/logo.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="落地线" tabindex="-1"><a class="header-anchor" href="#落地线"><span>落地线</span></a></h2><blockquote><p>此时我们点就飞起来啦，现在需要在点位的下方加入一条落地线</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">  <span class="token comment">// cesium 加载点位</span></span>
<span class="line"><span class="token function">addMarker</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">this</span><span class="token punctuation">.</span>pointEntitiesLine <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> Cesium <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cesium</span>
<span class="line">  <span class="token comment">// 清除上一次加载的点位</span></span>
<span class="line">  <span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token comment">// foreach循环加载点位</span></span>
<span class="line">  <span class="token keyword">this</span><span class="token punctuation">.</span>pointInfo<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pointObj</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 循环添加点位引线方法</span></span>
<span class="line">    <span class="token keyword">const</span> labelEntityLine <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadFloatPoint</span><span class="token punctuation">(</span>pointObj<span class="token punctuation">,</span> pointObj<span class="token punctuation">.</span>longitude <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">,</span> pointObj<span class="token punctuation">.</span>latitude <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token operator">...</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>pointEntitiesLine<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>labelEntityLine<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>loadFloatPoint</code>方法</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token comment">// 加载高度线</span></span>
<span class="line"><span class="token function">loadFloatPoint</span><span class="token punctuation">(</span><span class="token parameter">pointObj<span class="token punctuation">,</span> long<span class="token punctuation">,</span> lat<span class="token punctuation">,</span> height</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> Cesium <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cesium<span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> lineColor <span class="token operator">=</span> <span class="token string">&quot;#108de7&quot;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> entityLine <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;line_&#39;</span> <span class="token operator">+</span> pointObj<span class="token punctuation">.</span>pointName<span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&#39;line_&#39;</span> <span class="token operator">+</span> pointObj<span class="token punctuation">.</span>id<span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;line_&#39;</span> <span class="token operator">+</span> pointObj<span class="token punctuation">.</span>id<span class="token punctuation">,</span></span>
<span class="line">    <span class="token comment">// 经度维度必须是数字 </span></span>
<span class="line">    <span class="token comment">// position: Cesium.Cartesian3.fromDegrees(120.42602, 31.92423),</span></span>
<span class="line">    <span class="token literal-property property">polyline</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">positions</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegreesArrayHeights</span><span class="token punctuation">(</span><span class="token punctuation">[</span></span>
<span class="line">        long<span class="token punctuation">,</span> lat<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">        long<span class="token punctuation">,</span> lat<span class="token punctuation">,</span> height<span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token comment">// 材质设置</span></span>
<span class="line">      <span class="token comment">// material: Cesium.Color.DODGERBLUE,</span></span>
<span class="line">      <span class="token literal-property property">material</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token function">fromCssColorString</span><span class="token punctuation">(</span>lineColor<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token comment">// material : new Cesium.PolylineGlowMaterialProperty({ //发光线</span></span>
<span class="line">      <span class="token comment">//     glowPower : 0.1,</span></span>
<span class="line">      <span class="token comment">//     color : Cesium.Color.DODGERBLUE</span></span>
<span class="line">      <span class="token comment">// })</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> entityLine<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,8))])}const y=l(u,[["render",m],["__file","dianweiqifeibingyouluodixian.html.vue"]]),g=JSON.parse('{"path":"/blogs/cesium/dianweiqifeibingyouluodixian.html","title":"点位起飞并有落地线","lang":"en-US","frontmatter":{"title":"点位起飞并有落地线","date":"2022-8-17","tags":["cesium三维地图"],"categories":["cesium"]},"headers":[{"level":2,"title":"基础知识","slug":"基础知识","link":"#基础知识","children":[]},{"level":2,"title":"点位起飞","slug":"点位起飞","link":"#点位起飞","children":[]},{"level":2,"title":"落地线","slug":"落地线","link":"#落地线","children":[]}],"git":{"createdTime":1728696783000,"updatedTime":1728696783000,"contributors":[{"name":"刘政杨","email":"314781333@qq.com","commits":1}]},"filePathRelative":"blogs/cesium/点位起飞并有落地线.md"}');export{y as comp,g as data};
